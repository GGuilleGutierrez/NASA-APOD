<div class="flex justify-between">
    <div class="mt-10 bg-purple-300 border-t border-b border-purple-900 text-black-700 w-2/6 px-4 py-3 flex"
        role="alert">
        <p class="text-sm">Elige una fecha y te mostraré la APOD de la misma...</p>
    </div>
    <div class="mt-10 bg-purple-300 border-t border-b border-purple-900 text-black-700 w-2/6 px-4 py-3 flex"
        role="alert">
        <p class="text-sm">Desde el 20 de Junio de 1995, creación de NASA APOD</p>
    </div>
</div>

<form class="formdesk w-full flex justify-center mt-20" [formGroup]="formCalendary">
    <mat-form-field class="mr-7" appearance="outline">
        <mat-label>Año</mat-label>
        <input formControlName="year" type="text" matInput placeholder="Sólo un número...">
    </mat-form-field>
    <mat-form-field class="mr-7" appearance="outline">
        <mat-label>Mes</mat-label>
        <input formControlName="month" type="text" matInput placeholder="Sólo un número...">
    </mat-form-field>
    <mat-form-field class="mr-7" appearance="outline">
        <mat-label>Día</mat-label>
        <input formControlName="day" type="text" matInput placeholder="Sólo un número...">
    </mat-form-field>
    <button (click)="generateImage()" mat-fab extended color="accent">Obtener imagen</button>
</form>

<form class="formmobile w-full flex flex-col ml-2 justify-center items-center mt-20" [formGroup]="formCalendary">
    <mat-form-field class="mr-7" appearance="outline">
        <mat-label>Año</mat-label>
        <input formControlName="year" type="text" matInput placeholder="Sólo un número...">
    </mat-form-field>
    <mat-form-field class="mr-7" appearance="outline">
        <mat-label>Mes</mat-label>
        <input formControlName="month" type="text" matInput placeholder="Sólo un número...">
    </mat-form-field>
    <mat-form-field class="mr-7" appearance="outline">
        <mat-label>Día</mat-label>
        <input formControlName="day" type="text" matInput placeholder="Sólo un número...">
    </mat-form-field>
    <button (click)="generateImage()" mat-fab extended color="accent">Obtener imagen</button>
</form>

<article *ngIf="ok && data.length > 0" class="flex flex-col items-center justify-center">
    <div class="my-16 w-3/4 bg-purple-800 bg-opacity-20 rounded-2xl overflow-hidden shadow-2xl shadow-zinc-800">
        <div class="flex items-center justify-between my-4">
            <div class="font-bold text-xl mx-7">{{title}}</div>
            <div class="text-base mx-7">{{date}}</div>
        </div>
        <div class="flex flex-col items-center justify-center">
            <img class="h-1/3 w-3/4 rounded-lg" src="{{url}}" alt="APOD">
            <a href="{{url}}" target="_blank"><button
                    class="mt-4 bg-transparent hover:bg-purple-800 text-black-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded">Ver
                    en otra pestaña</button></a>
        </div>
        <div class="px-6 py-4">
            <p *ngIf="!translate" class="text-black text-base my-4">{{explanation}}</p>
            <p *ngIf="translate" class="text-black text-base my-4">{{translatedText}}</p>
            <button (click)="translateExplanation(explanation)"
                class="mt-4 bg-transparent hover:bg-purple-800 text-black-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded">{{
                translate ? 'Traducir al inglés' : 'Traducir al español' }}</button>
        </div>
        <div class="px-6 pt-4 pb-2">
            <span
                class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">Créditos
                de imagen y derechos de autor: <p>{{copyright}}</p></span>
        </div>
    </div>
</article>

<div *ngIf="!ok" class="m-10">
    <div role="alert">
        <div class="bg-red-500 text-white font-bold rounded-t px-4 py-2">
            Algo ha salido mal :(
        </div>
        <div class="border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700">
            <p>Parece que el servidor está experimentando problemas, porfavor intenta nuevamente luego...</p>
        </div>
    </div>
</div>